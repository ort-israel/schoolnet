YUI.add("moodle-local_searchbytags-allowmultiple",function(e,t){var n={OPTIONS:".searchoptions",OURFIELDS:".searchbytags"};M.local_searchbytags=M.local_searchbytags||{},M.local_searchbytags.allowmultiple={init:function(){e.delegate("change",this.option_changed,e.config.doc,n.OPTIONS,this),e.delegate("keyup",this.keyUp,e.config.doc,n.OURFIELDS,this),e.delegate("keydown",this.keyDown,e.config.doc,n.OURFIELDS,this),e.delegate("mouseup",this.mouseUp,e.config.doc,n.OURFIELDS,this),e.delegate("mousedown",this.mouseDown,e.config.doc,n.OURFIELDS,this),e.delegate("click",this.click,e.config.doc,n.OURFIELDS,this)},option_changed:function(e){return e.target.hasClass("searchbytags")?e.ctrlKey||this.multiselect?(e.preventDefault(),!1):!0:!0},keyDown:function(e){this.isModifierKey(e)&&(this.multiselect=!0)},keyUp:function(t){this.isModifierKey(t)&&(this.multiselect=!1,e.one("#menutags").simulate("change"))},mouseDown:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.multiselect=!0:this.multiselect=!1},mouseUp:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.multiselect=!0:this.multiselect=!1},click:function(e){e.ctrlKey||e.shiftKey?this.multiselect=!0:this.multiselect=!1},isModifierKey:function(e){var t=[16,17,91,93,224];return t.indexOf(e.which)+1}}},"@VERSION@",{requires:["base","node","node-event-simulate"]});
